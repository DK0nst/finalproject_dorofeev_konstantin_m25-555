# ValutaTrade Hub

–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏ —Å–∏–º—É–ª—è—Ü–∏–∏ —Ç–æ—Ä–≥–æ–≤–ª–∏ –≤–∞–ª—é—Ç–∞–º–∏ –∏ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞–º–∏.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. [–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏](#–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏)
2. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
3. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
4. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ API](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-api)
5. [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
6. [–ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥](#–ø—Ä–∏–º–µ—Ä—ã-–∫–æ–º–∞–Ω–¥)
7. [–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π](#–¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π-—Å—Ü–µ–Ω–∞—Ä–∏–π)
8. [–ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏](#–∫—Ä–∏—Ç–µ—Ä–∏–∏-–æ—Ü–µ–Ω–∫–∏)
9. [–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞](#—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)
10. [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫](#—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–Ω–µ–ø–æ–ª–∞–¥–æ–∫)

## ‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏**: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
- **–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –ø–æ—Ä—Ç—Ñ–µ–ª—å**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ—à–µ–ª—å–∫–∞–º–∏ —Ñ–∏–∞—Ç–Ω—ã—Ö –∏ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç
- **–¢–æ—Ä–≥–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏**: –ü–æ–∫—É–ø–∫–∞/–ø—Ä–æ–¥–∞–∂–∞ –ø–æ –∞–∫—Ç—É–∞–ª—å–Ω—ã–º –∫—É—Ä—Å–∞–º
- **–†–µ–∞–ª—å–Ω—ã–µ –∫—É—Ä—Å—ã**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥–≤—É–º—è API –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏:
  - **CoinGecko**: –ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã (BTC, ETH, SOL –∏ –¥—Ä—É–≥–∏–µ)
  - **ExchangeRate-API**: –§–∏–∞—Ç–Ω—ã–µ –≤–∞–ª—é—Ç—ã (USD, EUR, RUB –∏ –¥—Ä—É–≥–∏–µ)
- **–õ–æ–∫–∞–ª—å–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –∫—É—Ä—Å–∞–º —á–µ—Ä–µ–∑ rates.json
- **–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ**: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –∫—É—Ä—Å–æ–≤ –≤ exchange_rates.json
- **–ö–æ–º–∞–Ω–¥–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: –£–¥–æ–±–Ω—ã–π CLI –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
finalproject_<—Ñ–∞–º–∏–ª–∏—è>_<–≥—Ä—É–ø–ø–∞>/
‚îú‚îÄ‚îÄ data/ # –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö
‚îÇ ‚îú‚îÄ‚îÄ users.json # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (—Ö–µ—à–∏ –ø–∞—Ä–æ–ª–µ–π)
‚îÇ ‚îú‚îÄ‚îÄ portfolios.json # –ü–æ—Ä—Ç—Ñ–µ–ª–∏ –∏ –∫–æ—à–µ–ª—å–∫–∏
‚îÇ ‚îú‚îÄ‚îÄ rates.json # –ö—ç—à –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –∫—É—Ä—Å–æ–≤
‚îÇ ‚îî‚îÄ‚îÄ exchange_rates.json # –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –∫—É—Ä—Å–æ–≤
‚îú‚îÄ‚îÄ valutatrade_hub/ # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥
‚îÇ ‚îú‚îÄ‚îÄ core/ # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ currencies.py # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–∞–ª—é—Ç–∞—Ö
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ exceptions.py # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ models.py # User, Wallet, Portfolio
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ usecases.py # –õ–æ–≥–∏–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–π
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ utils.py # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ ‚îú‚îÄ‚îÄ infra/ # –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ settings.py # Singleton –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ database.py # Singleton –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏
‚îÇ ‚îú‚îÄ‚îÄ parser_service/ # –°–µ—Ä–≤–∏—Å –ø–∞—Ä—Å–∏–Ω–≥–∞ –∫—É—Ä—Å–æ–≤
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ config.py # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è API
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ api_clients.py # –ö–ª–∏–µ–Ω—Ç—ã –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö API
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ updater.py # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–æ–≤
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ storage.py # –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ scheduler.py # –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
‚îÇ ‚îú‚îÄ‚îÄ cli/ # –ö–æ–º–∞–Ω–¥–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ interface.py # CLI –∫–æ–º–∞–Ω–¥—ã
‚îÇ ‚îú‚îÄ‚îÄ logging_config.py # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ ‚îî‚îÄ‚îÄ decorators.py # –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
‚îú‚îÄ‚îÄ main.py # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ pyproject.toml # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Poetry
‚îú‚îÄ‚îÄ Makefile # –£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —Å–±–æ—Ä–∫–∏
‚îú‚îÄ‚îÄ README.md # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ .gitignore # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã


## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.8 –∏–ª–∏ –≤—ã—à–µ
- Poetry (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) –∏–ª–∏ pip

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ Poetry (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <repository-url>
cd finalproject_ivanov_python

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
poetry install

# 3. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Makefile
make install

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ API
–î–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∏–∞—Ç–Ω—ã–º–∏ –≤–∞–ª—é—Ç–∞–º–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º API –∫–ª—é—á –æ—Ç ExchangeRate-API:

1. –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–ª—é—á–∞
–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://www.exchangerate-api.com/

–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)

–ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á –∏–∑ –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞

2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–ª—é—á–∞
Linux/Mac:

bash
export EXCHANGERATE_API_KEY="–≤–∞—à_–∫–ª—é—á_–∑–¥–µ—Å—å"
Windows (CMD):

cmd
set EXCHANGERATE_API_KEY="–≤–∞—à_–∫–ª—é—á_–∑–¥–µ—Å—å"
Windows (PowerShell):

powershell
$env:EXCHANGERATE_API_KEY="–≤–∞—à_–∫–ª—é—á_–∑–¥–µ—Å—å"
–ò–ª–∏ —á–µ—Ä–µ–∑ .env —Ñ–∞–π–ª:
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

text
EXCHANGERATE_API_KEY=–≤–∞—à_–∫–ª—é—á_–∑–¥–µ—Å—å
üíª –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
–ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã
bash
# –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ Makefile
make project

# –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ poetry
poetry run valutatrade

# –°–ø–æ—Å–æ–± 3: –ü—Ä—è–º–æ–π –≤—ã–∑–æ–≤
python main.py

# –°–ø–æ—Å–æ–± 4: –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —á–µ—Ä–µ–∑ pip
valutatrade
–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–∫–∏
bash

# –û–±—â–∞—è —Å–ø—Ä–∞–≤–∫–∞
valutatrade --help

# –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–µ
valutatrade register --help
–ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥
–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
bash

# –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
valutatrade register --username alice --password 1234

# –í—Ö–æ–¥
valutatrade login --username alice --password 1234
–†–∞–±–æ—Ç–∞ —Å –∫—É—Ä—Å–∞–º–∏
bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–æ–≤
valutatrade update-rates

# –ü—Ä–æ—Å–º–æ—Ç—Ä –∫—É—Ä—Å–æ–≤
valutatrade show-rates
valutatrade show-rates --currency BTC
valutatrade show-rates --top 3

# –ü–æ–ª—É—á–µ–Ω–∏–µ –∫—É—Ä—Å–∞ –ø–∞—Ä—ã
valutatrade get-rate --from USD --to BTC
–¢–æ—Ä–≥–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
bash
# –ü–æ–∫—É–ø–∫–∞ –≤–∞–ª—é—Ç—ã
valutatrade buy --currency BTC --amount 0.01

# –ü—Ä–æ–¥–∞–∂–∞ –≤–∞–ª—é—Ç—ã
valutatrade sell --currency BTC --amount 0.005

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Ä—Ç—Ñ–µ–ª—è
valutatrade show-portfolio
valutatrade show-portfolio --base EUR
–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫
bash
# –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
valutatrade scheduler start

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
valutatrade scheduler status

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
valutatrade scheduler stop

–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π
–ü–æ–ª–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π:

bash
# 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞
export EXCHANGERATE_API_KEY="–≤–∞—à_–∫–ª—é—á"

# 2. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥
valutatrade register --username demo --password demo123
valutatrade login --username demo --password demo123

# 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–æ–≤
valutatrade update-rates

# 4. –ü—Ä–æ—Å–º–æ—Ç—Ä –∫—É—Ä—Å–æ–≤
valutatrade show-rates --top 3

# 5. –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ (–æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å data/portfolios.json)

# 6. –¢–æ—Ä–≥–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
valutatrade buy --currency BTC --amount 0.005
valutatrade sell --currency BTC --amount 0.002

# 7. –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
valutatrade show-portfolio